// Most Active Users
// Users with highest message count
union traces, dependencies
| where message contains "Custom Event: Message_Received" or message contains "Custom Event: SSO_Dialog_Started"
| extend UserId = tostring(customDimensions["userId"])
| where isnotempty(UserId) and UserId != "unknown"
| summarize MessageCount = count() by UserId
| top 10 by MessageCount
